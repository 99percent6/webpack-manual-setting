!function(e){function t(t){for(var r,i,c=t[0],u=t[1],l=t[2],p=0,f=[];p<c.length;p++)i=c[p],o[i]&&f.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;a.push([995,7,11,3,2,6,14,1,8,10,4,9,12,5,13]),n()}({137:function(e,t){e.exports={api:{host:"http://127.0.0.1:8080/api"},secretKey:"n8gsdg8n2sm9335d"}},551:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});var r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(t){if("serviceWorker"in navigator){if(new URL(e.env.PUBLIC_URL,window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="service-worker.js";r?(!function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):a(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e,t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker.")})):a(e,t)})}}function a(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}}).call(this,n(88))},771:function(e,t,n){var r=n(772);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(151)(r,o);r.locals&&(e.exports=r.locals)},772:function(e,t,n){(e.exports=n(150)(!1)).push([e.i,'body {\n  margin: 0;\n  padding: 0;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n    monospace;\n}\n',""])},864:function(e,t,n){var r=n(865);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(151)(r,o);r.locals&&(e.exports=r.locals)},865:function(e,t,n){(e.exports=n(150)(!1)).push([e.i,".auth-container {\n  margin-top: 50px;\n  padding: 15px;\n  width: 300px;\n  border: 1px solid #ebe2eb;\n  border-radius: 5px;\n  -webkit-box-shadow: 7px 7px 6px 2px rgba(224,224,224,0.7);\n  -moz-box-shadow: 7px 7px 6px 2px rgba(224,224,224,0.7);\n  box-shadow: 7px 7px 6px 2px rgba(224,224,224,0.7);\n}",""])},877:function(e,t,n){},883:function(e,t,n){var r=n(884);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(151)(r,o);r.locals&&(e.exports=r.locals)},884:function(e,t,n){(e.exports=n(150)(!1)).push([e.i,"@keyframes lds-ripple {\n  0% {\n    top: 96px;\n    left: 96px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: 18px;\n    left: 18px;\n    width: 156px;\n    height: 156px;\n    opacity: 0;\n  }\n}\n@-webkit-keyframes lds-ripple {\n  0% {\n    top: 96px;\n    left: 96px;\n    width: 0;\n    height: 0;\n    opacity: 1;\n  }\n  100% {\n    top: 18px;\n    left: 18px;\n    width: 156px;\n    height: 156px;\n    opacity: 0;\n  }\n}\n.lds-ripple {\n  position: relative;\n}\n.lds-ripple div {\n  box-sizing: content-box;\n  position: absolute;\n  border-width: 4px;\n  border-style: solid;\n  opacity: 1;\n  border-radius: 50%;\n  -webkit-animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n  animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\n}\n.lds-ripple div:nth-child(1) {\n  border-color: #e90c59;\n}\n.lds-ripple div:nth-child(2) {\n  border-color: #fe718d;\n  -webkit-animation-delay: -0.5s;\n  animation-delay: -0.5s;\n}\n.lds-ripple {\n  width: 24px !important;\n  height: 24px !important;\n  -webkit-transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);\n  transform: translate(-20px, -20px) scale(0.2) translate(20px, 20px);\n}",""])},885:function(e,t,n){var r=n(886);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(151)(r,o);r.locals&&(e.exports=r.locals)},886:function(e,t,n){(e.exports=n(150)(!1)).push([e.i,"#login {\n  display: flex;\n  justify-content: center;\n}",""])},947:function(e,t,n){var r=n(948);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(151)(r,o);r.locals&&(e.exports=r.locals)},948:function(e,t,n){(e.exports=n(150)(!1)).push([e.i,"#register {\n  display: flex;\n  justify-content: center;\n}",""])},96:function(e,t,n){},995:function(e,t,n){"use strict";n.r(t);n(581);var r=n(0),o=n.n(r),a=n(19),i=n.n(a),c=(n(771),n(42)),u=n(121),l=n(14),s=n(189),p=n.n(s),f=n(5),y=n(163);n(864);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){var e,n,r,a,i,u,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=new Array(s),f=0;f<s;f++)p[f]=arguments[f];return r=this,a=(e=d(t)).call.apply(e,[this].concat(p)),n=!a||"object"!==b(a)&&"function"!=typeof a?h(r):a,i=h(n),l=function(){var e=n.props.classes;return o.a.createElement("div",{className:e.container},o.a.createElement(y.a,{variant:"outlined",color:"primary",component:c.b,to:{pathname:"/todo/tasks/all"},className:e.button},"Начать действовать"))},(u="renderBtn")in i?Object.defineProperty(i,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[u]=l,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.token,r=e.currentUser;return o.a.createElement("div",{className:"auth-container"},n&&r?this.renderBtn():t)}}])&&m(n.prototype,a),i&&m(n,i),t}(),w=Object(l.b)(function(e){var t=e.user;return{token:t.token,currentUser:t.current}})(Object(f.a)(function(e){return{container:{display:"flex",justifyContent:"center"},button:{margin:e.spacing()}}})(g));n(877);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),E(this,k(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{id:"home"},o.a.createElement(w,null,o.a.createElement("div",{className:"buttons"},o.a.createElement(y.a,{variant:"outlined",color:"primary",component:c.b,to:{pathname:"/login"},className:e.button},"Войти"),o.a.createElement(y.a,{variant:"outlined",color:"secondary",component:c.b,to:{pathname:"/registration"},className:e.button},"Зарегистрироваться"))))}}])&&j(n.prototype,a),i&&j(n,i),t}(),P=Object(f.a)(function(e){return{button:{margin:e.spacing(1)}}})(x),_=n(38),T=n.n(_),C=n(1040),R=n(1041),D=n(1058),N=n(1059),U=n(137),I=n.n(U),A=function(e,t,n){if(document&&void 0!==document&&e){var r="";if(n)for(var o in n)r+="".concat(o,"=").concat(n[o],";");document.cookie="".concat(e,"=").concat(t,"; ").concat(r)}},V=function(e){if(document&&void 0!==document&&e){var t=document.cookie.split(";"),n="",r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var u=i.value;if(e===u.split("=")[0].trim()){n=u.split("=")[1];break}}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}},F=function(e){if(document&&void 0!==document&&e){var t=new Date;t.setTime(t.getTime()-1),document.cookie=e+="=; expires="+t.toGMTString()}},L=n(511),W=n.n(L);function M(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var B=function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url,r=t.method,o=t.body,n&&r){e.next=4;break}throw console.error("URL and method is required fields"),new Error;case 4:return a={method:r,json:!0,headers:{Accept:"application/json","Content-Type":"application/json"}},o&&Object.assign(a,{body:JSON.stringify(o)}),(i=V("token"))&&!n.includes("token")&&(c=W.a.parse(n),u=c.search?"&":"?",n+="".concat(u,"token=").concat(i)),e.prev=8,e.next=11,fetch(n,a);case 11:return l=e.sent,e.next=14,l.json();case 14:return s=e.sent,e.abrupt("return",s);case 18:e.prev=18,e.t0=e.catch(8),console.error(e.t0);case 21:case"end":return e.stop()}},e,null,[[8,18]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){M(a,r,o,i,c,"next",e)}function c(e){M(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}();function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){K(e,t,n[t])})}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function G(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){z(a,r,o,i,c,"next",e)}function c(e){z(a,r,o,i,c,"throw",e)}i(void 0)})}}var H=I.a.api.host,J=Object(N.a)("UPD_USER_LOGIN"),Y=Object(N.a)("UPD_USER_PASSWORD"),X=Object(N.a)("UPD_USER_TOKEN"),$=Object(N.a)("UPD_USER_CURRENT"),Q=Object(N.a)("UPD_REGISTRATION_USER_LOGIN"),Z=Object(N.a)("UPD_REGISTRATION_USER_PASSWORD"),ee=Object(N.a)("UPD_REGISTRATION_USER_REPEATED_PASSWORD"),te=Object(N.a)("UPD_REGISTRATION_USER_NAME"),ne=Object(N.a)("UPD_REGISTRATION_USER_EMAIL"),re=Object(N.a)("UPD_ACTIVE_TASK_TAB"),oe=Object(N.a)("UPD_TEXT"),ae=Object(N.a)("UPD_NEW_VALUE"),ie=Object(N.a)("UPD_PRIORITY_TASK"),ce=Object(N.a)("UPD_PERIOD_OF_EXECUTION"),ue=Object(N.a)("UPD_PROJECT_TASK"),le=Object(N.a)("ADD_TASK"),se=Object(N.a)("DEL_TASK"),pe=Object(N.a)("UPD_TASK"),fe=Object(N.a)("REPLACE_TASKS"),ye=Object(N.a)("SET_AUTH_USER_STATE"),be=Object(N.a)("SET_REGISTRATION_USER_STATE"),me=Object(N.a)("SET_SYNC_TASKS_STATE"),de=Object(N.a)("SET_NOTIFICATION_STATE"),he=Object(N.a)("SET_NOTIFICATION"),ve=Object(N.a)("CHANGE_VISIBLE_SIDEBAR"),ge=Object(N.a)("UPD_FEEDBACK_TITLE"),we=Object(N.a)("UPD_FEEDBACK_CONTENT"),Oe=Object(N.a)("UPD_FEEDBACK_EMAIL"),je=Object(N.a)("UPD_FEEDBACK_ALL_FIELDS"),Ee=Object(N.a)("UPD_PROJECT_LIST"),ke=Object(N.a)("UPD_PROJECT_NAME"),Se=Object(N.a)("ADD_PROJECT"),xe=Object(N.a)("DELETE_PROJECT"),Pe=Object(N.a)("SET_SYNC_PROJECTS_STATE"),_e=function(e){var t=e.token,n=e.field,r=void 0===n?"":n,o=e.value,a=void 0===o?"":o;return function(){var e=G(regeneratorRuntime.mark(function e(n){var o,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}throw n(me({syncTasksState:"fail"})),new Error("Token is required field");case 3:return e.prev=3,o="".concat(H,"/tasks/list"),r&&a&&(o+="?field=".concat(r,"&value=").concat(a)),n(me({syncTasksState:"request"})),e.next=9,B({url:o,method:"GET"});case 9:(i=e.sent)&&200===i.code?(c={},i.result.forEach(function(e){c=q({},c,K({},e.id,e))}),n(me({syncTasksState:"success"})),n(fe({tasks:c}))):(n(me({syncTasksState:"fail"})),n(he({open:!0,message:"Ошибка при загрузке списка задач, попробуйте перелогиниться.",type:"error"}))),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),n(me({syncTasksState:"fail"})),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}()},Te=function(e){var t=e.task;return function(){var e=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Task is required field");case 2:return e.prev=2,n(pe({task:t})),r="".concat(H,"/tasks/updateTask"),e.next=7,B({url:r,method:"PUT",body:t});case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(2),console.error("Error at updating task: ",e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])}));return function(t){return e.apply(this,arguments)}}()},Ce=function(e){var t=e.token;return function(){var e=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Token is required field");case 2:return e.prev=2,r="".concat(H,"/user/getUser?token=").concat(t),n(ye({authState:"request"})),e.next=7,B({url:r,method:"GET"});case 7:if(!(o=e.sent)||200!==o.code){e.next=14;break}return n(ye({authState:"success"})),n($({user:o.result})),e.abrupt("return",o.result);case 14:return n(ye({authState:"fail"})),e.abrupt("return",null);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),n(ye({authState:"fail"})),console.error(e.t0);case 22:case"end":return e.stop()}},e,null,[[2,18]])}));return function(t){return e.apply(this,arguments)}}()},Re=function(e){var t=e.token;return function(){var e=G(regeneratorRuntime.mark(function e(n){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}throw n(Pe({syncProjectsState:"error"})),new Error("Token is required field");case 3:return e.prev=3,r="".concat(H,"/projects/list"),n(Pe({syncProjectsState:"request"})),e.next=8,B({url:r,method:"GET"});case 8:return(o=e.sent)&&200===o.code?(a={},o.result.forEach(function(e){a=q({},a,K({},e.id,e))}),n(Pe({syncProjectsState:"success"})),n(Ee({list:a}))):(n(Pe({syncProjectsState:"error"})),n(he({open:!0,message:"Ошибка при загрузке списка проектов.",type:"error"}))),e.abrupt("return",o);case 13:e.prev=13,e.t0=e.catch(3),n(Pe({syncProjectsState:"error"})),console.error(e.t0);case 17:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}()};n(883);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ue(this,Ie(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement("div",{className:"lds-css ng-scope"},o.a.createElement("div",{style:{width:"100%",height:"100%"},className:"lds-ripple"},o.a.createElement("div",null),o.a.createElement("div",null)))}}])&&Ne(n.prototype,a),i&&Ne(n,i),t}();n(885);function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function We(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Le(a,r,o,i,c,"next",e)}function c(e){Le(a,r,o,i,c,"throw",e)}i(void 0)})}}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge={updUserLogin:J,updUserPassword:Y,authUser:function(e){var t=e.login,n=e.password;return r=G(regeneratorRuntime.mark(function e(r){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}throw new Error("Missing required fields");case 2:return e.prev=2,o="".concat(H,"/user/login"),r(ye({authState:"request"})),e.next=7,B({url:o,method:"POST",body:{login:t,password:n}});case 7:if(!(a=e.sent)||200!==a.code){e.next=14;break}return r(ye({authState:"success"})),r(X({token:a.result})),e.abrupt("return",a.result);case 14:return r(ye({authState:"fail"})),e.abrupt("return",null);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),r(ye({authState:"fail"})),console.error("Error during auth user - ",e.t0);case 22:case"end":return e.stop()}},e,null,[[2,18]])})),function(e){return r.apply(this,arguments)};var r},getUser:Ce,setNotification:he},He=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,a=(e=Be(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Fe(a)&&"function"!=typeof a?qe(r):a,ze(qe(n),"handleChange",function(e){return function(t){var r=n.props;({login:r.updUserLogin,password:r.updUserPassword})[e](ze({},e,t.target.value))}}),ze(qe(n),"handleKeyPress",function(e){"Enter"===e.key&&n.auth()}),ze(qe(n),"auth",We(regeneratorRuntime.mark(function e(){var t,r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.authUser,o=t.login,a=t.password,i=t.setNotification,e.next=3,r({login:o,password:a});case 3:e.sent?n.getUser():"fail"===n.props.authUserState&&i({open:!0,message:"Неверный логин или пароль.",type:"error"});case 5:case"end":return e.stop()}},e)}))),ze(qe(n),"getUser",function(){var e=n.props,t=e.token,r=e.getUser,o=e.history;r({token:t}).then(function(e){if(e){var n=new p.a(I.a.secretKey).encrypt(JSON.stringify(e));A("token",t,{expires:new Date(Date.now()+2592e6)}),A("user",n,{expires:new Date(Date.now()+2592e6)}),o.replace("/todo/tasks/all")}})}),ze(qe(n),"renderBtn",function(){var e=n.props,t=e.authUserState,r=e.classes;return"request"===t?o.a.createElement(y.a,{variant:"outlined",color:"primary",className:r.button},o.a.createElement(Ve,null)):o.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:function(){return n.auth()},className:r.button},"Войти")}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.login,r=e.password;return o.a.createElement("div",{id:"login"},o.a.createElement(w,null,o.a.createElement("div",{className:t.root},o.a.createElement(C.a,{className:T()(t.margin,t.textField)},o.a.createElement(D.a,{htmlFor:"adornment-login"},"Логин"),o.a.createElement(R.a,{id:"adornment-login",type:"text",value:n,onChange:this.handleChange("login"),onKeyPress:this.handleKeyPress})),o.a.createElement(C.a,{className:T()(t.margin,t.textField)},o.a.createElement(D.a,{htmlFor:"adornment-password"},"Пароль"),o.a.createElement(R.a,{id:"adornment-password",type:"password",value:r,onChange:this.handleChange("password"),onKeyPress:this.handleKeyPress})),this.renderBtn())))}}])&&Me(n.prototype,a),i&&Me(n,i),t}(),Je=Object(l.b)(function(e){var t=e.user,n=t.token,r=t.current,o=e.UIState.authUserState,a=e.userAuth;return{login:a.login,password:a.password,token:n,currentUser:r,authUserState:o}},Ge)(Object(f.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"center"},margin:{margin:e.spacing(1)},textField:{flexBasis:240},button:{margin:e.spacing(1),minWidth:"80px"}}})(He)),Ye=n(57),Xe=n.n(Ye);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tt(e,t){return(tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ze(this,et(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.message,n=e.classes;return e.isVisible?o.a.createElement("span",{className:n.root},t):null}}])&&Qe(n.prototype,a),i&&Qe(n,i),t}(),rt=Object(f.a)(function(e){return{root:{color:"red",fontSize:"12px"}}})(nt);n(947);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st={updRegistrationUserLogin:Q,updRegistrationUserPassword:Z,updRegistrationUserRepeatedPassword:ee,updRegistrationUserName:te,updRegistrationUserEmail:ne,getUser:Ce,registrationUser:function(e){var t=e.user;return n=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("User is required field");case 2:return e.prev=2,r="".concat(H,"/user/registration"),n(be({registrationState:"request"})),e.next=7,B({url:r,method:"POST",body:t});case 7:if(!(o=e.sent)||200!==o.code){e.next=13;break}return n(be({registrationState:"success"})),e.abrupt("return",o);case 13:return n(be({registrationState:"fail"})),e.abrupt("return",o);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),n(be({registrationState:"fail"})),console.error("Error at registration user: ",e.t0);case 21:case"end":return e.stop()}},e,null,[[2,17]])})),function(e){return n.apply(this,arguments)};var n},setNotification:he},pt=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=new Array(i),l=0;l<i;l++)u[l]=arguments[l];return r=this,a=(e=it(t)).call.apply(e,[this].concat(u)),n=!a||"object"!==ot(a)&&"function"!=typeof a?ct(r):a,lt(ct(n),"state",{isValidLogin:"",isValidPassword:"",isEqualPasswords:"",isValidEmail:"",isValidName:""}),lt(ct(n),"registrationUser",function(){var e=n.props,t=e.registrationUser,r=e.login,o=e.password,a=e.repeatedPassword,i=e.name,c=e.email,u=e.setNotification,l=e.history;t({user:{login:r,password:o,repeatedPassword:a,name:i,email:c}}).then(function(e){var t=n.props.registrationUserState;if(200===e.code)"success"===t&&(u({open:!0,message:"Вы успешно зарегистрировались",type:"success"}),l.push("/login"));else if(500===e.code&&("Login busy"===e.result||"Email busy"===e.result)&&"fail"===t){var r="".concat(e.result.includes("Login")?"Логин":"Email"," уже занят");u({open:!0,message:r,type:"error"})}})}),lt(ct(n),"renderBtn",function(){var e=n.props,t=e.classes,r=e.registrationUserState,a=n.state,i=a.isValidLogin,u=a.isValidPassword,l=a.isEqualPasswords,s=a.isValidEmail,p=a.isValidName,f=i&&u&&l&&s&&p;return"request"===r?o.a.createElement(y.a,{variant:"outlined",color:"secondary",className:t.button},o.a.createElement(Ve,null)):"success"===r?o.a.createElement(y.a,{variant:"outlined",color:"primary",component:c.b,to:{pathname:"/login"},className:t.button},"Войти"):o.a.createElement(y.a,{variant:"outlined",color:"secondary",disabled:!f,onClick:function(){return n.registrationUser()},className:t.button},"Регистрация")}),lt(ct(n),"validationFields",function(e,t){switch(t){case"login":var r=!Xe.a.isEmpty(e)&&Xe.a.isAlphanumeric(e);n.setState({isValidLogin:r});break;case"password":var o=!Xe.a.isAlpha(e,["ru-RU"])&&!Xe.a.isEmpty(e)&&e.length>=6;n.setState({isValidPassword:o});break;case"repeatedPassword":var a=Xe.a.equals(e,n.props.password)&&!Xe.a.isEmpty(e);n.setState({isEqualPasswords:a});break;case"email":var i=Xe.a.isEmail(e)&&!Xe.a.isEmpty(e);n.setState({isValidEmail:i});break;case"name":var c=!Xe.a.isEmpty(e);n.setState({isValidName:c})}}),lt(ct(n),"handleChange",function(e){return function(t){var r=n.props,o=r.updRegistrationUserLogin,a=r.updRegistrationUserPassword,i=r.updRegistrationUserRepeatedPassword,c=r.updRegistrationUserName,u=r.updRegistrationUserEmail,l=t.target.value;({login:o,password:a,repeatedPassword:i,name:c,email:u})[e](lt({},e,l)),n.validationFields(l,e)}}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.login,r=e.password,a=e.repeatedPassword,i=e.name,c=e.email,u=this.state,l=u.isValidLogin,s=u.isValidPassword,p=u.isEqualPasswords,f=u.isValidEmail,y=u.isValidName;return o.a.createElement("div",{id:"register"},o.a.createElement(w,null,o.a.createElement("div",{className:t.root},o.a.createElement(C.a,{className:T()(t.margin,t.textField)},o.a.createElement(D.a,{htmlFor:"adornment-login"},"Введите логин*"),o.a.createElement(R.a,{id:"adornment-login",type:"text",value:n,onChange:this.handleChange("login")})),o.a.createElement(rt,{message:"Некорректный логин",isVisible:!l}),o.a.createElement(C.a,{className:T()(t.margin,t.textField)},o.a.createElement(D.a,{htmlFor:"adornment-password"},"Пароль*"),o.a.createElement(R.a,{id:"adornment-password",type:"password",value:r,onChange:this.handleChange("password")})),o.a.createElement(rt,{message:"Пароль должен содержать не менее 6 символов",isVisible:!s}),o.a.createElement(C.a,{className:T()(t.margin,t.textField)},o.a.createElement(D.a,{htmlFor:"adornment-repeated-password"},"Повторите пароль*"),o.a.createElement(R.a,{id:"adornment-repeated-password",type:"password",value:a,onChange:this.handleChange("repeatedPassword")})),o.a.createElement(rt,{message:"Пароли не совпадают",isVisible:!p}),o.a.createElement(C.a,{className:T()(t.margin,t.textField)},o.a.createElement(D.a,{htmlFor:"adornment-email"},"Email*"),o.a.createElement(R.a,{id:"adornment-email",type:"text",value:c,onChange:this.handleChange("email")})),o.a.createElement(rt,{message:"Некорректный email",isVisible:!f}),o.a.createElement(C.a,{className:T()(t.margin,t.textField)},o.a.createElement(D.a,{htmlFor:"adornment-name"},"Имя*"),o.a.createElement(R.a,{id:"adornment-name",type:"text",value:i,onChange:this.handleChange("name")})),o.a.createElement(rt,{message:"Обязательное поле",isVisible:!y}),this.renderBtn())))}}])&&at(n.prototype,a),i&&at(n,i),t}(),ft=Object(l.b)(function(e){var t=e.user,n=t.token,r=t.current,o=e.userRegistration;return{login:o.login,password:o.password,repeatedPassword:o.repeatedPassword,name:o.name,email:o.email,token:n,currentUser:r,registrationUserState:e.UIState.registrationUserState}},st)(Object(f.a)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"center"},margin:{margin:e.spacing()},textField:{flexBasis:240},button:{marginTop:"10px",margin:e.spacing(),minWidth:"200px"}}})(pt)),yt=n(512),bt=n.n(yt),mt=n(1053),dt=n(1010),ht=n(561),vt=n(996),gt=n(1048),wt=n(1043),Ot=n(994),jt=n(536),Et=n.n(jt),kt=n(535),St=n.n(kt),xt=n(534),Pt=n.n(xt),_t=function(){return[{value:"Важно Срочно",code:1,color:"red"},{value:"Важно Не Срочно",code:2,color:"green"},{value:"Не Важно Срочно",code:3,color:"orange"},{value:"Не Важно Не Срочно",code:4,color:"gray"}]},Tt=function(e){var t=e?e.toLowerCase():"",n={delimiter:"-",limit:void 0,replacements:{},transliterate:!0},r={"©":"(c)","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ё":"yo","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"","ы":"y","ь":"","э":"e","ю":"yu","я":"ya"};if(n.transliterate)for(var o in r)t=t.replace(RegExp(o,"g"),r[o]);var a=RegExp("[^a-z0-9]+","ig");return t=(t=(t=(t=t.replace(a,n.delimiter)).replace(RegExp("["+n.delimiter+"]{2,}","g"),n.delimiter)).substring(0,n.limit)).replace(RegExp("(^"+n.delimiter+"|"+n.delimiter+"$)","g"),"")},Ct=n(1002),Rt=n(1004),Dt=n(1003),Nt=n(1046),Ut=n(1056),It=n(1042);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Bt(e,t,n[t])})}return e}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qt={updPriorityTask:ie},Kt=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,a=(e=Lt(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==At(a)&&"function"!=typeof a?Wt(r):a,Bt(Wt(n),"state",{priority:{commonStyle:{width:"15px",height:"15px",borderRadius:"50%"},list:_t()}}),Bt(Wt(n),"handleChange",function(e){(0,n.props.updPriorityTask)({priority:e.target.value})}),Bt(Wt(n),"renderMenuItem",function(){var e=n.state.priority,t=n.props.classes,r=e.commonStyle;return e.list.map(function(e){return r=Vt({},r,{backgroundColor:e.color}),o.a.createElement(It.a,{key:e.color,value:e.code},o.a.createElement("div",{style:r}),o.a.createElement(wt.a,{className:t.itemMenu,inset:!0,primary:e.value}))})}),Bt(Wt(n),"renderSelectedPriorityValue",function(e){var t=n.state.priority,r=n.props.classes,a=t.list.find(function(t){return parseInt(t.code)===parseInt(e)}),i=Vt({},t.commonStyle,{backgroundColor:a.color,marginRight:"15px"});return a?o.a.createElement("div",{className:r.selectValue},o.a.createElement("div",{style:i}),o.a.createElement("div",null,a.value)):null}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.priority;return o.a.createElement("div",{className:"additional-options"},o.a.createElement(C.a,{className:t.formControl},o.a.createElement(D.a,{htmlFor:"priority"},"Приоритет"),o.a.createElement(Ut.a,{value:n,onChange:this.handleChange,name:"priority",renderValue:this.renderSelectedPriorityValue,input:o.a.createElement(R.a,{id:"priority"})},this.renderMenuItem())))}}])&&Ft(n.prototype,a),i&&Ft(n,i),t}(),zt=Object(l.b)(function(e){return{priority:e.addTask.priority}},qt)(Object(f.a)(function(e){return{formControl:{minWidth:200},itemMenu:{padding:"0px 0px 0px 15px"},selectValue:{display:"flex",alignItems:"center"}}})(Kt));function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $t={updEditValue:ae},Qt=function(e){function t(){var e,n,r,o,a,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,l=new Array(u),s=0;s<u;s++)l[s]=arguments[s];return r=this,o=(e=Jt(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==Gt(o)&&"function"!=typeof o?Yt(r):o,a=Yt(n),c=function(e){var t=e.target.value;(0,n.props.updEditValue)({text:t})},(i="handleChange")in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.taskLabel;return o.a.createElement(C.a,{className:T()(t.margin,t.textField)},o.a.createElement(D.a,{htmlFor:"task-label"},"Задача"),o.a.createElement(R.a,{id:"task-label",type:"text",value:n,onChange:this.handleChange}))}}])&&Ht(n.prototype,a),i&&Ht(n,i),t}(),Zt=Object(l.b)(function(e){return{taskLabel:e.addTask.editValue}},$t)(Object(f.a)(function(e){return{margin:{margin:e.spacing()},textField:{width:"100%",margin:"10px 0"}}})(Qt)),en=n(275),tn=n(513),nn=n(531),rn=n.n(nn),on=n(211),an=n(553),cn=n(1045),un=n(4),ln=n.n(un);n(96);function sn(e){return(sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var mn={updPeriodOfExecution:ce},dn=Object(an.a)({overrides:{MuiPickersModal:{dialogRoot:{margin:"10px",minWidth:"320px"}},MuiDialog:{paperScrollPaper:{maxHeight:"100%"}}}}),hn=function(e){function t(){var e,n,r,o,a,i,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,l=new Array(u),s=0;s<u;s++)l[s]=arguments[s];return r=this,o=(e=fn(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==sn(o)&&"function"!=typeof o?yn(r):o,a=yn(n),c=function(e){(0,n.props.updPeriodOfExecution)({executionDate:e?ln()(e).format():null})},(i="handleDateChange")in a?Object.defineProperty(a,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[i]=c,n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props.executionDate;return o.a.createElement(en.b,{utils:tn.a,locale:rn.a},o.a.createElement(on.a,{container:!0,className:"additional-options",justify:"flex-start"},o.a.createElement(cn.a,{theme:dn},o.a.createElement(en.a,{clearable:!0,label:"Срок исполнения",inputVariant:"standard",invalidDateMessage:"Неверный формат даты",cancelLabel:"Закрыть",clearLabel:"Очистить",ampm:!1,value:e,onChange:this.handleDateChange,format:"dd MMMM yyyy HH:mm"}))))}}])&&pn(n.prototype,a),i&&pn(n,i),t}(),vn=Object(l.b)(function(e){return{executionDate:e.addTask.executionDate}},mn)(Object(f.a)({})(hn)),gn=n(161),wn=Object(gn.a)(function(e){return e.tasks},function(e){return Object.values(e)}),On=Object(gn.a)(wn,function(e){return e.filter(function(e){return"active"===e.state})}),jn=Object(gn.a)(wn,function(e){return e.filter(function(e){return"finished"===e.state})}),En=Object(gn.a)(function(e){return e.project.list},function(e){var t=Object.values(e);return t.unshift({id:"all",name:"Все",slug:"all"}),t});function kn(e){return(kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cn={updProjectTask:ue},Rn=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,a=(e=xn(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==kn(a)&&"function"!=typeof a?Pn(r):a,Tn(Pn(n),"renderMenuItem",function(){return n.props.projectList.filter(function(e){return"all"!==e.slug}).map(function(e){return o.a.createElement(It.a,{key:e.id,value:e},e.name)})}),Tn(Pn(n),"handleChange",function(e){(0,n.props.updProjectTask)({project:e.target.value})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.project;return o.a.createElement("div",{className:"additional-options"},o.a.createElement(C.a,{className:t.formControl},o.a.createElement(D.a,{htmlFor:"project"},"Проект"),o.a.createElement(Ut.a,{value:n,renderValue:function(e){return e.name},onChange:this.handleChange,name:"project",input:o.a.createElement(R.a,{id:"project"})},this.renderMenuItem())))}}])&&Sn(n.prototype,a),i&&Sn(n,i),t}(),Dn=Object(l.b)(function(e){return{project:e.addTask.project,projectList:En(e)}},Cn)(Object(f.a)(function(e){return{formControl:{minWidth:200}}})(Rn));function Nn(e){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t){return!t||"object"!==Nn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){return(An=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vn(e,t){return(Vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fn,Ln,Wn,Mn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),In(this,An(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.maxWidth,n=e.fullWidth,r=e.open,a=e.onCloseDialog,i=e.onSaveTask,c=e.task,u=e.classes;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ct.a,{classes:{paperFullWidth:u.paperFullWidth},fullWidth:n,maxWidth:t,open:r,onClose:a,"aria-labelledby":"max-width-dialog-title"},o.a.createElement(Nt.a,{id:"max-width-dialog-title",className:u.title},c.text),o.a.createElement(Dt.a,null,o.a.createElement(Zt,null),o.a.createElement("div",{className:"options-container"},o.a.createElement(zt,null),o.a.createElement(vn,null),o.a.createElement(Dn,null))),o.a.createElement(Rt.a,null,o.a.createElement(y.a,{onClick:i,color:"primary"},"Сохранить"),o.a.createElement(y.a,{onClick:a,color:"secondary"},"Закрыть"))))}}])&&Un(n.prototype,a),i&&Un(n,i),t}();Wn={maxWidth:"md",fullWidth:!0},(Ln="defaultProps")in(Fn=Mn)?Object.defineProperty(Fn,Ln,{value:Wn,enumerable:!0,configurable:!0,writable:!0}):Fn[Ln]=Wn;var Bn=Object(f.a)(function(e){return{paperFullWidth:{margin:"10px"},title:{wordBreak:"break-all"}}})(Mn),qn=n(165),Kn=n(557),zn=n(532),Gn=n.n(zn),Hn=n(1047);function Jn(e){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,a=(e=Xn(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==Jn(a)&&"function"!=typeof a?$n(r):a,Zn($n(n),"state",{anchorEl:null}),Zn($n(n),"renderActions",function(){var e=n.props,t=e.actions,r=e.classes;return t.map(function(e){return o.a.createElement(It.a,{className:r.root,key:e.value,selected:!1,onClick:function(){return n.handleAction(e.action)}},o.a.createElement(Hn.a,{classes:{root:r.icon}},e.icon),o.a.createElement(wt.a,{className:r.itemText,inset:!0,primary:e.label}))})}),Zn($n(n),"handleAction",function(e){n.handleClose(),e()}),Zn($n(n),"handleClick",function(e){n.setState({anchorEl:e.currentTarget})}),Zn($n(n),"handleClose",function(){n.setState({anchorEl:null})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.state.anchorEl,t=Boolean(e);return o.a.createElement("div",null,o.a.createElement(qn.a,{"aria-label":"More","aria-owns":t?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},o.a.createElement(Gn.a,null)),o.a.createElement(Kn.a,{id:"long-menu",anchorEl:e,open:t,onClose:this.handleClose,PaperProps:{style:{maxHeight:135,width:200}}},this.renderActions()))}}])&&Yn(n.prototype,a),i&&Yn(n,i),t}(),tr=Object(f.a)(function(e){return{root:{padding:"7px"},itemText:{padding:0},icon:{minWidth:"40px"}}})(er),nr=n(533),rr=n.n(nr);n(991),n(264);function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ar(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ir(this,cr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.date,n=e.tz,r=e.format;return t?o.a.createElement(rr.a,{element:"span",date:t,format:r,tz:n,locale:"ru"}):null}}])&&ar(n.prototype,a),i&&ar(n,i),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(lr,"defaultProps",{tz:null,format:"DD MMMM YYYY HH:mm"});var sr=lr;function pr(e){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr={updEditValue:ae,asyncUpdateTask:Te,updPriorityTask:ie,updPeriodOfExecution:ce,updProjectTask:ue,setNotification:he},vr=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,a=(e=yr(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==pr(a)&&"function"!=typeof a?br(r):a,dr(br(n),"state",{isVisibleDialog:!1,priorityList:_t(),actions:[{label:"Редактировать",value:"edit",icon:o.a.createElement(Pt.a,null),action:function(){return n.openDialog()}},{label:"Удалить",value:"delete",icon:o.a.createElement(St.a,null),action:function(){return n.props.onRemove(n.props.task.id)}}]}),dr(br(n),"openDialog",function(){var e=n.props,t=e.updEditValue,r=e.updPriorityTask,o=e.updPeriodOfExecution,a=e.updProjectTask,i=e.task;t({text:i.text}),r({priority:i.priority?i.priority:""}),o({executionDate:i.executionDate?i.executionDate:null}),a({project:i.project?i.project:""}),n.setState({isVisibleDialog:!0})}),dr(br(n),"closeDialog",function(){var e=n.props,t=e.updEditValue,r=e.updPriorityTask,o=e.updPeriodOfExecution,a=e.updProjectTask;t({text:""}),r({priority:""}),o({executionDate:null}),a({project:""}),n.setState({isVisibleDialog:!1})}),dr(br(n),"applyChanges",function(e){var t=n.props,r=t.textValue,o=t.setNotification,a=t.asyncUpdateTask,i=t.token,c=t.syncTasks,u=t.priority,l=t.executionDate,s=t.project;r&&""!==r?(a({task:e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){dr(e,t,n[t])})}return e}({},e,{text:r,priority:u,executionDate:l,project:s})}).then(function(e){i&&c()}),n.closeDialog()):o({open:!0,message:"Введите название задачи",type:"error"})}),dr(br(n),"buildSecondaryTaskText",function(e){var t=n.props.classes;return[{label:"Срок исполнения: ",value:e.executionDate?o.a.createElement(sr,{date:e.executionDate}):null},{label:"Проект: ",value:e.project&&e.project.name?e.project.name:null}].map(function(e){return e.value?o.a.createElement("span",{className:t.secondaryTextContainer,key:e.label},o.a.createElement("span",{className:t.secondaryTextLabel},e.label),e.value):null})}),dr(br(n),"renderIconGroup",function(e){var t=n.state.actions;return o.a.createElement(tr,{actions:t})}),dr(br(n),"renderContent",function(){var e=n.state.priorityList,t=n.props,r=t.classes,a=t.task,i=t.onChangeState,c="active"===a.state,u=c?"action":"disabled",l=n.buildSecondaryTaskText(a),s=o.a.createElement(gt.a,{classes:{root:r.avatarRoot}},o.a.createElement(Ot.a,{className:r.avatar},o.a.createElement(Et.a,{color:u}))),p=e.find(function(e){return parseInt(e.code)===parseInt(a.priority)}),f={};return p&&(f={minWidth:"20px",width:"20px",height:"20px",borderRadius:"50%",backgroundColor:p.color,margin:"0 10px",boxShadow:"2px 3px 10px 0px #726f6f"}),o.a.createElement("div",{className:r.contentContainer},p?o.a.createElement("div",{style:f}):s,o.a.createElement("div",{className:r.contentContainer},o.a.createElement(wt.a,{classes:{primary:c?r.itemContentActive:r.itemContentDisabled},primary:a.text,onClick:function(){return i(a)},secondary:l})))}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.task,r=t.classes,a=this.state.isVisibleDialog;return o.a.createElement("div",null,o.a.createElement(vt.a,{className:r.root},this.renderContent(),this.renderIconGroup(n)),o.a.createElement(Bn,{open:a,onCloseDialog:this.closeDialog,task:n,onSaveTask:function(){return e.applyChanges(n)}}))}}])&&fr(n.prototype,a),i&&fr(n,i),t}(),gr=Object(l.b)(function(e){var t=e.addTask;return{token:e.user.token,priority:t.priority,textValue:t.editValue,executionDate:t.executionDate,project:t.project}},hr)(Object(f.a)(function(e){return{root:{width:"100%",wordBreak:"break-all",margin:"5px 0",padding:0},itemContentActive:{cursor:"pointer",color:"black"},itemContentDisabled:{cursor:"pointer",color:"gray",textDecoration:"line-through"},avatarRoot:{minWidth:"40px"},avatar:{backgroundColor:"white",height:"30px",marginRight:0},input:{margin:"0",width:"100%"},contentContainer:{width:"100%",minHeight:"20px",height:"auto",display:"flex",alignItems:"center"},secondaryTextContainer:{marginRight:"10px"},secondaryTextLabel:{fontWeight:"500"}}})(vr)),wr=n(1044);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e){return(kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pr(e){var t={asyncSyncTasks:_e},n=function(t){function n(){var e,t,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=kr(n)).call.apply(e,[this].concat(i)),t=!o||"object"!==Or(o)&&"function"!=typeof o?Sr(r):o,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Sr(t),"withSyncTasks",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t.props,r=n.token,o=n.projectList,a=n.match,i=n.asyncSyncTasks;if(r){var c=e||a&&a.params&&a.params.project;if("all"===c)i({token:r});else{var u=o.find(function(e){return e.slug===c});i({token:r,field:"project.id",value:u&&u.id})}}}),t}var a,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(n,r["Component"]),a=n,(i=[{key:"render",value:function(){return o.a.createElement(e,jr({syncTasks:this.withSyncTasks,test:"test"},this.props))}}])&&Er(a.prototype,i),c&&Er(a,c),n}();return Object(u.d)(Object(l.b)(function(e){return{token:e.user.token,projectList:En(e)}},t)(n))}function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t){return!t||"object"!==_r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dr(e,t){return(Dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Nr=Pr(gr),Ur=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Cr(this,Rr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dr(e,t)}(t,r["Component"]),n=t,(a=[{key:"renderTasks",value:function(){var e=this.props,t=e.tasks,n=e.onRemove,r=e.onChangeState,a=e.classes;return t&&0!==t.length?t.map(function(e){return o.a.createElement(Nr,{key:e.id,task:e,onRemove:n,onChangeState:r})}):o.a.createElement("div",{className:a.textContainer},"Пока нет ни одной записи, поробуйте это сделать!")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(wr.a,null,this.renderTasks()))}}])&&Tr(n.prototype,a),i&&Tr(n,i),t}(),Ir=Object(f.a)({textContainer:{margin:"10px",display:"flex",textAlign:"center",justifyContent:"center"}})(Ur),Ar=n(1060),Vr=n(1049),Fr=n(1050),Lr=n(51),Wr=n(201),Mr=n.n(Wr);function Br(e){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return!t||"object"!==Br(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gr(e,t){return(Gr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Kr(this,zr(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(Ar.a,null,o.a.createElement(Vr.a,{expandIcon:o.a.createElement(Mr.a,null)},o.a.createElement(Lr.a,{className:e.heading,variant:"caption"},"Дополнительно")),o.a.createElement(Fr.a,{className:"options-container"},o.a.createElement(zt,null),o.a.createElement(vn,null),o.a.createElement(Dn,null))))}}])&&qr(n.prototype,a),i&&qr(n,i),t}(),Jr=Object(f.a)(function(e){return{root:{width:"100%",marginBottom:"20px",padding:"0 10px",boxSizing:"border-box"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})(Hr),Yr=n(1051),Xr=n(562),$r=n(202),Qr=n.n($r),Zr=n(123);function eo(e){return(eo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function to(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function no(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var co={updText:oe,asyncAddTask:function(e){var t=e.task;return n=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Task is required field");case 2:return e.prev=2,n(le({task:t})),r="".concat(H,"/tasks/addTask"),e.next=7,B({url:r,method:"PUT",body:t});case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(2),console.error("Error at adding a task: ",e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])})),function(e){return n.apply(this,arguments)};var n}},uo=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=ro(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==eo(o)&&"function"!=typeof o?oo(r):o,io(oo(n),"handleKeyPress",function(e){var t=e;"Enter"===t.key&&n.addTask(t)}),io(oo(n),"valueHandler",function(e){var t=e.target.value;(0,n.props.updText)({text:t})}),io(oo(n),"addTask",function(){var e,t=(e=regeneratorRuntime.mark(function e(t){var r,o,a,i,c,u,l,s,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=n.props,o=r.textValue,a=r.priority,i=r.executionDate,c=r.project,u=r.asyncAddTask,l=r.syncTasks,s=r.token,o&&""!==o.trim()){e.next=4;break}return e.abrupt("return");case 4:p={id:Object(Zr.uniqueId)(),text:o,state:"active",priority:a,executionDate:i,project:c},u({task:p,token:s}).then(function(e){s&&l()});case 6:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){to(a,r,o,i,c,"next",e)}function c(e){to(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.textValue;return o.a.createElement("div",null,o.a.createElement("div",{className:"input-container"},o.a.createElement(C.a,{className:""},o.a.createElement(Xr.a,{id:"outlined-name",label:"Что нужно сделать?",className:t.textField,value:n,onChange:this.valueHandler,onKeyPress:this.handleKeyPress,margin:"normal",variant:"outlined"})),o.a.createElement(Yr.a,{onClick:this.addTask,size:"medium",color:"primary","aria-label":"Add",className:""},o.a.createElement(Qr.a,null))),o.a.createElement(Jr,null))}}])&&no(n.prototype,a),i&&no(n,i),t}(),lo=Object(l.b)(function(e){var t=e.addTask,n=e.user;return{textValue:t.value,priority:t.priority,executionDate:t.executionDate,project:t.project,token:n.token}},co)(Object(f.a)(function(e){return{textField:{marginTop:0,marginBottom:0,marginLeft:e.spacing(),marginRight:"20px"}}})(uo)),so=n(144);function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vo={updActiveTaskTab:re},go=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=yo(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==po(o)&&"function"!=typeof o?bo(r):o,ho(bo(n),"state",{value:0}),ho(bo(n),"handleChange",function(e,t){var r=n.props.updActiveTaskTab;n.setState({value:t}),r({value:{0:"active",1:"finished",2:"all"}[t]})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(so.a,{square:!0},o.a.createElement(dt.a,{value:this.state.value,onChange:this.handleChange,variant:"fullWidth",indicatorColor:"secondary",textColor:"secondary"},o.a.createElement(ht.a,{label:"Активные"}),o.a.createElement(ht.a,{label:"Выполненные"}),o.a.createElement(ht.a,{label:"Все"})))}}])&&fo(n.prototype,a),i&&fo(n,i),t}(),wo=Object(l.b)(function(e){return{UIState:e.UIState}},vo)(go);function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eo(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function So(e,t){return(So=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Eo(this,ko(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&So(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.openDialog;return o.a.createElement("div",null,o.a.createElement(Yr.a,{variant:"extended",size:"medium",color:"secondary","aria-label":"Add",className:t.margin,onClick:n},"Добавить проект",o.a.createElement(Qr.a,{className:t.extendedIcon})))}}])&&jo(n.prototype,a),i&&jo(n,i),t}(),Po=Object(f.a)(function(e){return{margin:{margin:"8px 8px 8px 0"},extendedIcon:{marginLeft:e.spacing(1)}}})(xo);function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ro(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e,t){return(Do=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uo={updProjectName:ke},Io=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=Co(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==_o(o)&&"function"!=typeof o?Ro(r):o,No(Ro(n),"handleKeyPress",function(e){var t=e,r=n.props.onSaveProject;"Enter"===t.key&&r()}),No(Ro(n),"handleChange",function(e){var t=e.target.value;(0,n.props.updProjectName)({name:t})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Do(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.projectName;return o.a.createElement(C.a,{className:T()(t.margin,t.textField)},o.a.createElement(D.a,{htmlFor:"project-name"},"Проект"),o.a.createElement(R.a,{id:"project-name",type:"text",value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress}))}}])&&To(n.prototype,a),i&&To(n,i),t}(),Ao=Object(l.b)(function(e){return{projectName:e.project.name}},Uo)(Object(f.a)(function(e){return{margin:{margin:e.spacing(1)},textField:{width:"100%",margin:"10px 0"}}})(Io));function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lo(e,t){return!t||"object"!==Vo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mo(e,t){return(Mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Lo(this,Wo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mo(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.maxWidth,r=e.fullWidth,a=e.open,i=e.onCloseDialog,c=e.onSaveProject;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ct.a,{classes:{paperFullWidth:t.paperFullWidth},fullWidth:r,maxWidth:n,open:a,onClose:i,"aria-labelledby":"max-width-dialog-title"},o.a.createElement(Nt.a,{id:"max-width-dialog-title",className:t.title},"Добавить проект"),o.a.createElement(Dt.a,null,o.a.createElement("div",{className:"options-container"},o.a.createElement(Ao,{onSaveProject:c}))),o.a.createElement(Rt.a,null,o.a.createElement(y.a,{onClick:c,color:"primary"},"Сохранить"),o.a.createElement(y.a,{onClick:i,color:"secondary"},"Закрыть"))))}}])&&Fo(n.prototype,a),i&&Fo(n,i),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Bo,"defaultProps",{maxWidth:"md",fullWidth:!0});var qo=Object(f.a)(function(e){return{paperFullWidth:{margin:"10px"},title:{wordBreak:"break-all"}}})(Bo),Ko=n(1052),zo=n(539),Go=n.n(zo);function Ho(e){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(e,t){return!t||"object"!==Ho(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Xo(e){return(Xo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Qo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yo(this,Xo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.maxWidth,r=e.fullWidth,a=e.open,i=e.onCloseDialog,c=e.onDeleteProject,u=e.projectName;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ct.a,{classes:{paperFullWidth:t.paperFullWidth},fullWidth:r,maxWidth:n,open:a,onClose:i,"aria-labelledby":"max-width-dialog-title"},o.a.createElement(Nt.a,{id:"max-width-dialog-title",className:t.title},u),o.a.createElement(Dt.a,null,o.a.createElement("div",{className:"options-container"},"Вы уверены, что хотите удалить проект и все связанные с ним задачи?")),o.a.createElement(Rt.a,null,o.a.createElement(y.a,{onClick:function(){return c()},color:"primary"},"Удалить"),o.a.createElement(y.a,{onClick:i,color:"secondary"},"Закрыть"))))}}])&&Jo(n.prototype,a),i&&Jo(n,i),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Qo,"defaultProps",{maxWidth:"sm",fullWidth:!0});var Zo=Object(f.a)(function(e){return{paperFullWidth:{margin:"10px"},title:{wordBreak:"break-all"}}})(Qo);function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e,t){return(oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ia={replaceTasks:fe},ca=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,a=(e=na(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==ea(a)&&"function"!=typeof a?ra(r):a,aa(ra(n),"state",{activeProject:"",idVisibleDialog:null}),aa(ra(n),"openDialog",function(e){n.setState({idVisibleDialog:e})}),aa(ra(n),"closeDialog",function(){n.setState({idVisibleDialog:null})}),aa(ra(n),"handleClick",function(e,t){e.preventDefault();var r=n.props,o=r.history,a=r.syncTasks,i=r.token,c=r.replaceTasks;n.setState({activeProject:t.id}),o.push({pathname:"/todo/tasks/".concat(t.slug)}),c({tasks:{}}),i&&a(t.slug)}),aa(ra(n),"deleteProject",function(e){var t=n.props.onDeleteProject;n.closeDialog(),t(e)}),aa(ra(n),"renderList",function(){var e=n.props,t=e.projectList,r=e.classes,a=n.state,i=a.activeProject,c=a.idVisibleDialog;return t.length?t.map(function(e){return o.a.createElement("div",{key:e.id},o.a.createElement(Ko.a,{onClick:function(t){return n.handleClick(t,e)},onDelete:"all"===e.id?null:function(){return n.openDialog(e.id)},className:r.chip,color:"primary",label:e.name,variant:i===e.id?"default":"outlined",icon:o.a.createElement(Go.a,null)}),o.a.createElement(Zo,{projectName:e.name,open:c===e.id,onCloseDialog:function(){return n.closeDialog()},onDeleteProject:function(){return n.deleteProject(e.id)}}))}):null}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oa(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidUpdate",value:function(){var e=this.state.activeProject,t=this.props,n=t.projectList,r=t.match;if(n&&n.length&&r&&r.params&&!e){var o=r.params.project,a=n.find(function(e){return e.slug===o});a&&this.setState({activeProject:a.id})}}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},this.renderList())}}])&&ta(n.prototype,a),i&&ta(n,i),t}();function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function sa(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){la(a,r,o,i,c,"next",e)}function c(e){la(a,r,o,i,c,"throw",e)}i(void 0)})}}function pa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e){return(fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ya(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ba(e,t){return(ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var da=Pr(Object(u.d)(Object(l.b)(function(e){var t=e.user;return{projectList:En(e),token:t.token}},ia)(Object(f.a)(function(){return{root:{marginTop:"10px",display:"flex",flexFlow:"row wrap"},chip:{margin:"0 10px 10px 0"},link:{textDecoration:"none"}}})(ca)))),ha={createProject:function(e){var t=e.project;return n=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Missing required fields");case 2:return e.prev=2,n(Se({project:t})),r="".concat(H,"/projects/create"),e.next=7,B({url:r,method:"POST",body:q({},t)});case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])})),function(e){return n.apply(this,arguments)};var n},asyncDeleteProject:function(e){var t=e.id;return n=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Missing required fields");case 2:return e.prev=2,n(xe({id:t})),r="".concat(H,"/projects/delete?id=").concat(t),e.next=7,B({url:r,method:"DELETE"});case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])})),function(e){return n.apply(this,arguments)};var n},asyncDeleteTasksByProject:function(e){var t=e.projectId;return n=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Project id is required field");case 2:return e.prev=2,r="".concat(H,"/tasks/deleteByProjectId?projectId=").concat(t),e.next=6,B({url:r,method:"DELETE"});case 6:return o=e.sent,e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(2),console.error("Error at deleting tasks: ",e.t0);case 13:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return n.apply(this,arguments)};var n},getProjects:Re,syncTasks:_e},va=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=fa(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==ua(o)&&"function"!=typeof o?ya(r):o,ma(ya(n),"state",{isVisibleDialog:!1}),ma(ya(n),"openDialog",function(){n.setState({isVisibleDialog:!0})}),ma(ya(n),"closeDialog",function(){n.setState({isVisibleDialog:!1})}),ma(ya(n),"createProject",sa(regeneratorRuntime.mark(function e(){var t,r,o,a,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.projectName,o=t.createProject,a=t.token,i=t.getProjects,r){e.next=3;break}return e.abrupt("return");case 3:c={name:r,id:Object(Zr.uniqueId)(),slug:Tt(r)},o({project:c}).then(function(e){a&&i({token:a})}),n.closeDialog();case 6:case"end":return e.stop()}},e)}))),ma(ya(n),"deleteProject",function(e){var t=n.props,r=t.asyncDeleteProject,o=t.asyncDeleteTasksByProject,a=t.getProjects,i=t.syncTasks,c=t.token,u=t.history;o({projectId:e}).then(function(t){r({id:e}).then(function(e){c&&(i({token:c}),a({token:c}),u.replace({pathname:"/todo/tasks/all"}))})})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ba(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props.classes,t=this.state.isVisibleDialog;return o.a.createElement("div",{className:e.root},o.a.createElement(Ar.a,null,o.a.createElement(Vr.a,{expandIcon:o.a.createElement(Mr.a,null)},o.a.createElement(Lr.a,{className:e.heading,variant:"caption"},"Проекты")),o.a.createElement(Fr.a,{className:"options-container"},o.a.createElement(Po,{openDialog:this.openDialog}),o.a.createElement(da,{onDeleteProject:this.deleteProject}),o.a.createElement(qo,{open:t,onSaveProject:this.createProject,onCloseDialog:this.closeDialog}))))}}])&&pa(n.prototype,a),i&&pa(n,i),t}(),ga=Object(u.d)(Object(l.b)(function(e){var t=e.project,n=e.user;return{projectName:t.name,projectList:t.list,token:n.token}},ha)(Object(f.a)(function(e){return{root:{boxSizing:"border-box",width:"100%",marginBottom:"20px",padding:"0 10px"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})(va)));function wa(e){return(wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ka(e,t){return(ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xa=Pr(lo),Pa={updText:oe,delTask:se,updTask:pe,replaceTasks:fe,asyncDeleteTask:function(e){var t=e.id;return n=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Id is required field");case 2:return e.prev=2,n(se({id:t})),r="".concat(H,"/tasks/deleteTask"),e.next=7,B({url:r,method:"DELETE",body:{id:t}});case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(2),console.error("Error at deleting task: ",e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])})),function(e){return n.apply(this,arguments)};var n},asyncUpdateTask:Te,getProjects:Re},_a=function(e){function t(){var e,n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return r=this,a=(e=ja(t)).call.apply(e,[this].concat(c)),n=!a||"object"!==wa(a)&&"function"!=typeof a?Ea(r):a,Sa(Ea(n),"changedState",function(e){var t=n.props,r=t.asyncUpdateTask,o=t.syncTasks;r({task:e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Sa(e,t,n[t])})}return e}({},e,{state:"active"===e.state?"finished":"active"})}).then(function(e){o()})}),Sa(Ea(n),"removeTask",function(e){var t=n.props,r=t.asyncDeleteTask,o=t.syncTasks;r({id:e}).then(function(e){o()})}),Sa(Ea(n),"renderList",function(){var e=n.props,t=e.tasks,r=e.UIState,a=e.activeTasks,i=e.finishedTasks,c=e.classes,u=[];switch(r.activeTaskTable){case"active":u=a;break;case"finished":u=i;break;default:u=t}return"request"===r.syncTasksState&&0===u.length?o.a.createElement("div",{className:c.loaderContainer},o.a.createElement(Ve,null)):o.a.createElement(Ir,{tasks:u,onRemove:n.removeTask,onChangeState:n.changedState})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ka(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.getProjects,n=e.token,r=e.syncTasks;n&&t({token:n}).then(function(e){r()})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(ga,null),o.a.createElement(xa,null)),o.a.createElement(wo,null),this.renderList())}}])&&Oa(n.prototype,a),i&&Oa(n,i),t}(),Ta=Object(u.d)(Object(l.b)(function(e){var t=e.text,n=e.UIState,r=e.user;return{text:t,tasks:wn(e),activeTasks:On(e),finishedTasks:jn(e),UIState:n,token:r.token}},Pa)(Object(f.a)(function(e){return{textField:{marginTop:0,marginBottom:0,marginLeft:e.spacing(),marginRight:"20px"},loaderContainer:{marginTop:"30px",display:"flex",justifyContent:"center"}}})(_a)));var Ca=function(e){var t=e.children,n=e.dir;return o.a.createElement(Lr.a,{component:"div",dir:n,style:{padding:"24px 0"}},t)};function Ra(e){return(Ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Da(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Na(e){return(Na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ia(e,t){return(Ia=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Va=Pr(Ta),Fa=function(e){function t(e){var n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=Na(t).call(this,e),n=!o||"object"!==Ra(o)&&"function"!=typeof o?Ua(r):o,Aa(Ua(n),"handleChange",function(e,t){n.props.history.push({pathname:"/todo/".concat(1===t?"notes":"tasks/all")}),n.setState({value:t})}),Aa(Ua(n),"handleChangeIndex",function(e){n.setState({value:e})});var a=e.history,i=e.match,c=i.params&&i.params.type,u=V("token"),l=V("user");return n.state={value:"tasks"===c?0:1,allowRouteTypes:["tasks","notes"]},u&&l||a.replace("/"),c&&n.state.allowRouteTypes.includes(c)||a.replace("/todo/tasks/all"),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ia(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.theme;return o.a.createElement("div",{className:t.root},o.a.createElement(mt.a,{position:"static",color:"default"},o.a.createElement(dt.a,{value:this.state.value,onChange:this.handleChange,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},o.a.createElement(ht.a,{label:"Задачи"}),o.a.createElement(ht.a,{label:"Заметки"}))),o.a.createElement(bt.a,{axis:"rtl"===n.direction?"x-reverse":"x",index:this.state.value,onChangeIndex:this.handleChangeIndex},o.a.createElement(Ca,{dir:n.direction},o.a.createElement(Va,null)),o.a.createElement(Ca,{dir:n.direction},"В разработке...")))}}])&&Da(n.prototype,a),i&&Da(n,i),t}(),La=Object(f.a)(function(e){return{root:{margin:"0 auto",backgroundColor:e.palette.background.paper,maxWidth:1e3}}},{withTheme:!0})(Fa);function Wa(e){return(Wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ma(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ba(e){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ga={updFeedbackTitle:ge,updFeedbackContent:we,updFeedbackEmail:Oe,sendFeedback:function(e){var t=e.data;return n=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Missing required fields");case 2:return e.prev=2,r="".concat(H,"/user/sendFeedback"),e.next=6,B({url:r,method:"POST",body:t});case 6:return o=e.sent,n(je({title:"",content:"",email:""})),e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])})),function(e){return n.apply(this,arguments)};var n},setNotification:he},Ha=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=Ba(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Wa(o)&&"function"!=typeof o?qa(r):o,za(qa(n),"state",{isValidEmail:!1,validationMessage:""}),za(qa(n),"goBack",function(){n.props.history.goBack()}),za(qa(n),"handleChange",function(e,t){var r=e.target.value,o=n.props,a=o.updFeedbackTitle,i=o.updFeedbackContent,c=o.updFeedbackEmail;if("email"===t){var u=Xe.a.isEmail(r)&&!Xe.a.isEmpty(r);n.setState({isValidEmail:u,validationMessage:u?"":"Пожалуйста, введите корректный email"})}var l={title:function(e){return a({title:e})},content:function(e){return i({content:e})},email:function(e){return c({email:e})}};t&&["title","content","email"].includes(t)&&l[t](r)}),za(qa(n),"sendFeedback",function(){var e=n.props,t=e.title,r=e.content,o=e.email,a=e.sendFeedback,i=e.setNotification,c=e.history;a({data:{title:t,content:r,email:o}}),i({open:!0,message:"Благодарим за уделенное внимание, письмо успешно отправлено.",type:"success"}),c.push("/")}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.title,a=t.content,i=t.email,c=this.state,u=c.validationMessage,l=c.isValidEmail,s=l&&r&&a;return o.a.createElement("div",{className:n.root},o.a.createElement(Xr.a,{id:"standard-dense",label:"Тема",value:r,onChange:function(t){return e.handleChange(t,"title")},className:T()(n.textField,n.dense),margin:"dense"}),o.a.createElement(Xr.a,{id:"standard-multiline-static",label:"О чем вы хотите написать?",multiline:!0,rows:"4",value:a,onChange:function(t){return e.handleChange(t,"content")},className:n.textField,margin:"normal"}),o.a.createElement(Xr.a,{id:"standard-dense",label:"Ваш email для ответа",value:i,onChange:function(t){return e.handleChange(t,"email")},className:T()(n.textField,n.dense),margin:"dense"}),o.a.createElement(rt,{message:u,isVisible:!l}),o.a.createElement("div",{className:n.btnContainer},o.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:this.sendFeedback,disabled:!s,className:n.sendButton},"Отправить"),o.a.createElement(y.a,{variant:"outlined",color:"secondary",onClick:this.goBack},"Назад")))}}])&&Ma(n.prototype,a),i&&Ma(n,i),t}(),Ja=Object(l.b)(function(e){var t=e.feedback;return{title:t.title,content:t.content,email:t.email}},Ga)(Object(f.a)(function(e){return{root:{margin:"50px auto",backgroundColor:e.palette.background.paper,maxWidth:1e3,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},textField:{width:"80%"},dense:{marginTop:19},btnContainer:{display:"flex",justifyContent:"center",marginTop:"30px"},sendButton:{marginRight:"20px"}}})(Ha)),Ya=n(1e3),Xa=n(542),$a=n.n(Xa),Qa=n(540),Za=n.n(Qa),ei=n(541),ti=n.n(ei);function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function oi(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ri(a,r,o,i,c,"next",e)}function c(e){ri(a,r,o,i,c,"throw",e)}i(void 0)})}}function ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e,t){return(ui=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var si={logout:function(e){var t=e.token;return n=G(regeneratorRuntime.mark(function e(n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Token is required field");case 2:return e.prev=2,r="".concat(H,"/user/logout"),e.next=6,B({url:r,method:"POST"});case 6:return(o=e.sent)&&200===o.code&&(F("token"),F("user"),n(X({token:""})),n($({user:null})),n(fe({tasks:{}}))),e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[2,11]])})),function(e){return n.apply(this,arguments)};var n},setNotification:he,changeVisibleSidebar:ve},pi=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=ii(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==ni(o)&&"function"!=typeof o?ci(r):o,li(ci(n),"state",{anchorEl:null}),li(ci(n),"handleSidebar",function(){(0,n.props.changeVisibleSidebar)({isVisibleSidebar:!0})}),li(ci(n),"handleMenu",function(e){n.setState({anchorEl:e.currentTarget})}),li(ci(n),"handleClose",function(){n.setState({anchorEl:null})}),li(ci(n),"logout",oi(regeneratorRuntime.mark(function e(){var t,r,o,a,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.logout,o=t.setNotification,a=t.token,i=t.history,e.next=3,r({token:a});case 3:(c=e.sent)&&200===c.code?(o({open:!0,message:"Вы успешно вышли из аккаунта",type:"success"}),i.replace("/")):o({open:!0,message:"Ошибка при выходе из аккаунта",type:"error"}),n.handleClose();case 6:case"end":return e.stop()}},e)}))),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ui(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.token,r=e.currentUser,a=this.state.anchorEl,i=Boolean(a),u=Boolean(n&&r);return o.a.createElement("div",{className:t.root},o.a.createElement(mt.a,{position:"static"},o.a.createElement(Ya.a,null,o.a.createElement(qn.a,{className:t.menuButton,onClick:this.handleSidebar,color:"inherit","aria-label":"Menu"},o.a.createElement(Za.a,null)),o.a.createElement(Lr.a,{variant:"h6",color:"inherit",className:t.grow},o.a.createElement(c.b,{className:t.link,to:{pathname:"/"}},"The Tasker")),u&&o.a.createElement("div",null,o.a.createElement(qn.a,{"aria-owns":i?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},o.a.createElement(ti.a,null)),o.a.createElement(Kn.a,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:i,onClose:this.handleClose},o.a.createElement(It.a,{onClick:this.logout},o.a.createElement($a.a,{className:t.exitIcon}),"Выйти"))))))}}])&&ai(n.prototype,a),i&&ai(n,i),t}(),fi=Object(l.b)(function(e){var t=e.user;return{token:t.token,currentUser:t.current}},si)(Object(f.a)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},exitIcon:{marginRight:"10px"},link:{color:"white",textDecoration:"none"}})(pi)),yi=n(1054),bi=n(543),mi=n.n(bi),di=n(544),hi=n.n(di),vi=n(545),gi=n.n(vi),wi=n(546),Oi=n.n(wi),ji=n(547),Ei=n.n(ji),ki=n(548),Si=n.n(ki),xi=n(549),Pi=n.n(xi),_i=n(1006);function Ti(e){return(Ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ci(){return(Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ri(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ni(e,t){return!t||"object"!==Ti(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ui(e){return(Ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ii(e,t){return(Ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ai={success:mi.a,warning:hi.a,error:gi.a,info:Oi.a},Vi=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ni(this,Ui(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ii(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,r=e.message,a=e.onClose,i=e.variant,c=Ri(e,["classes","className","message","onClose","variant"]),u=Ai[i];return o.a.createElement(_i.a,Ci({className:T()(t[i],n),"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:t.message},o.a.createElement(u,{className:T()(t.icon,t.iconVariant)}),r),action:[o.a.createElement(qn.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:a},o.a.createElement(Pi.a,{className:t.icon}))]},c))}}])&&Di(n.prototype,a),i&&Di(n,i),t}(),Fi=Object(f.a)(function(e){return{success:{backgroundColor:Ei.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:Si.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})(Vi);function Li(e){return(Li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e){return(Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qi(e,t){return(qi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ki={setNotificationState:de},zi=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=Mi(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Li(o)&&"function"!=typeof o?Bi(r):o,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Bi(n),"handleClose",function(e,t){var r=n.props.setNotificationState;"clickaway"!==t&&r({notifState:!1})}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qi(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.notificationType,n=e.notificationMessage,r=e.openNotification;return o.a.createElement("div",null,o.a.createElement(yi.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r,autoHideDuration:6e3,onClose:this.handleClose},o.a.createElement(Fi,{onClose:this.handleClose,variant:t,message:n})))}}])&&Wi(n.prototype,a),i&&Wi(n,i),t}(),Gi=Object(l.b)(function(e){var t=e.notifications;return{openNotification:t.open,notificationMessage:t.message,notificationType:t.type}},Ki)(Object(f.a)(function(e){return{margin:{margin:e.spacing(1)}}})(zi)),Hi=n(1057),Ji=n(550),Yi=n.n(Ji);function Xi(e){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qi(e){return(Qi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ec(e,t){return(ec=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tc={changeVisibleSidebar:ve},nc=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=this,o=(e=Qi(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==Xi(o)&&"function"!=typeof o?Zi(r):o,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Zi(n),"toggleDrawer",function(e){return function(){(0,n.props.changeVisibleSidebar)({isVisibleSidebar:e})}}),n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ec(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.isVisibleSidebar,r=o.a.createElement("div",{className:t.list},o.a.createElement(wr.a,null,["Связаться с разработчиком"].map(function(e){return o.a.createElement(vt.a,{button:!0,key:e},o.a.createElement(Hn.a,{classes:{root:t.icon}},o.a.createElement(Yi.a,null)),o.a.createElement(c.b,{className:t.link,to:{pathname:"/feedback"}},o.a.createElement(wt.a,{classes:{primary:t.text},primary:e})))})));return o.a.createElement("div",null,o.a.createElement(Hi.a,{open:n,onClose:this.toggleDrawer(!1),onOpen:this.toggleDrawer(!0)},o.a.createElement("div",{className:t.sidebarHeader},"The Tasker"),o.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},r)))}}])&&$i(n.prototype,a),i&&$i(n,i),t}(),rc=Object(l.b)(function(e){return{isVisibleSidebar:e.UIState.isVisibleSidebar}},tc)(Object(f.a)({text:{padding:"0",letterSpacing:0,color:"black"},icon:{minWidth:"40px"},list:{width:300},sidebarHeader:{display:"flex",justifyContent:"center",alignItems:"center",color:"white",fontSize:"1.25rem",fontWeight:"500",height:"64px",backgroundColor:"#3f51b5",boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12)"},link:{textDecoration:"none"}})(nc));function oc(e){return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ic(e,t){return!t||"object"!==oc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cc(e){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uc(e,t){return(uc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var lc,sc,pc,fc,yc,bc,mc,dc,hc,vc={updUserToken:X,updUserCurrent:$},gc=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=ic(this,cc(t).call(this,e));var r=e.updUserToken,o=e.updUserCurrent,a=V("token"),i=new p.a(I.a.secretKey),c=V("user");if(c&&a){try{c=JSON.parse(i.decrypt(c))}catch(e){console.error(e)}r({token:a}),o({user:c})}return n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uc(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){return o.a.createElement(c.a,null,o.a.createElement(u.a,{path:"*",component:fi}),o.a.createElement(u.a,{path:"/",exact:!0,component:P}),o.a.createElement(u.a,{path:"/login",component:Je}),o.a.createElement(u.a,{path:"/registration",component:ft}),o.a.createElement(u.a,{path:["/todo/:type/:project","/todo"],component:La}),o.a.createElement(u.a,{path:"/feedback",component:Ja}),o.a.createElement(rc,null),o.a.createElement(Gi,null))}}])&&ac(n.prototype,a),i&&ac(n,i),t}(),wc=Object(l.b)(function(e){var t=e.user,n=t.current;return{token:t.token,currentUser:n}},vc)(gc),Oc=n(551),jc=n(120),Ec=n(552),kc=n(1055);function Sc(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function xc(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Sc(a,r,o,i,c,"next",e)}function c(e){Sc(a,r,o,i,c,"throw",e)}i(void 0)})}}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_c(e,t,n[t])})}return e}function _c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tc,Cc,Rc=Object(kc.a)((_c(lc={},oe,function(e,t){return Pc({},e,{value:t.payload.text})}),_c(lc,ae,function(e,t){return Pc({},e,{editValue:t.payload.text})}),_c(lc,le,function(e){return Pc({},e,{value:"",priority:"",executionDate:null,project:""})}),_c(lc,ie,function(e,t){return Pc({},e,{priority:t.payload.priority})}),_c(lc,ce,function(e,t){return Pc({},e,{executionDate:t.payload.executionDate})}),_c(lc,ue,function(e,t){return Pc({},e,{project:t.payload.project})}),lc),{value:"",editValue:"",priority:"",executionDate:null,project:""}),Dc=Object(kc.a)((_c(sc={},le,function(e,t){var n=t.payload.task;return Pc(_c({},n.id,n),e)}),_c(sc,se,(Tc=xc(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.payload.id,e.abrupt("return",Object(Zr.omit)(t,[r]));case 2:case"end":return e.stop()}},e)})),function(e,t){return Tc.apply(this,arguments)})),_c(sc,pe,function(e,t){var n=t.payload.task;return Pc({},e,_c({},n.id,n))}),_c(sc,fe,function(e,t){return t.payload.tasks}),sc),{}),Nc=Object(kc.a)((_c(pc={},re,function(e,t){var n=t.payload.value;e.activeTaskTable;return Pc({},e,{activeTaskTable:n})}),_c(pc,ye,function(e,t){return Pc({},e,{authUserState:t.payload.authState})}),_c(pc,be,function(e,t){return Pc({},e,{registrationUserState:t.payload.registrationState})}),_c(pc,me,function(e,t){return Pc({},e,{syncTasksState:t.payload.syncTasksState})}),_c(pc,ve,function(e,t){return Pc({},e,{isVisibleSidebar:t.payload.isVisibleSidebar})}),_c(pc,Pe,function(e,t){return Pc({},e,{syncProjectsState:t.payload.syncProjectsState})}),pc),{activeTaskTable:"active",authUserState:"none",registrationUserState:"none",syncTasksState:"none",isVisibleSidebar:!1,syncProjectsState:"none"}),Uc=Object(kc.a)((_c(fc={},X,function(e,t){return Pc({},e,{token:t.payload.token})}),_c(fc,$,function(e,t){return Pc({},e,{current:t.payload.user})}),fc),{token:"",current:null}),Ic=Object(kc.a)((_c(yc={},J,function(e,t){return Pc({},e,{login:t.payload.login})}),_c(yc,Y,function(e,t){return Pc({},e,{password:t.payload.password})}),yc),{login:"",password:""}),Ac=Object(kc.a)((_c(bc={},Q,function(e,t){return Pc({},e,{login:t.payload.login})}),_c(bc,Z,function(e,t){return Pc({},e,{password:t.payload.password})}),_c(bc,ee,function(e,t){return Pc({},e,{repeatedPassword:t.payload.repeatedPassword})}),_c(bc,te,function(e,t){return Pc({},e,{name:t.payload.name})}),_c(bc,ne,function(e,t){return Pc({},e,{email:t.payload.email})}),bc),{login:"",password:"",repeatedPassword:"",name:"",email:""}),Vc=Object(kc.a)((_c(mc={},de,function(e,t){return Pc({},e,{open:t.payload.notifState})}),_c(mc,he,function(e,t){var n=t.payload;return Pc({},e,{open:n.open,message:n.message,type:n.type})}),mc),{open:!1,message:"",type:""}),Fc=Object(kc.a)((_c(dc={},ge,function(e,t){return Pc({},e,{title:t.payload.title})}),_c(dc,we,function(e,t){return Pc({},e,{content:t.payload.content})}),_c(dc,Oe,function(e,t){return Pc({},e,{email:t.payload.email})}),_c(dc,je,function(e,t){var n=t.payload;return Pc({},e,{title:n.title,content:n.content,email:n.email})}),dc),{title:"",content:"",email:""}),Lc=Object(kc.a)((_c(hc={},Ee,function(e,t){return Pc({},e,{list:t.payload.list})}),_c(hc,Se,function(e,t){var n=t.payload.project,r=e.list;return r=Pc({},r,_c({},n.id,n)),Pc({},e,{name:"",list:r})}),_c(hc,xe,(Cc=xc(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.payload.id,e.abrupt("return",Pc({},t,{list:Object(Zr.omit)(t.list,[r])}));case 2:case"end":return e.stop()}},e)})),function(e,t){return Cc.apply(this,arguments)})),_c(hc,ke,function(e,t){return Pc({},e,{name:t.payload.name})}),hc),{list:{},name:""}),Wc=Object(jc.c)({addTask:Rc,tasks:Dc,UIState:Nc,user:Uc,userAuth:Ic,userRegistration:Ac,notifications:Vc,feedback:Fc,project:Lc}),Mc=Object(jc.d)(Wc,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),Object(jc.a)(Ec.a));i.a.render(o.a.createElement(l.a,{store:Mc},o.a.createElement(wc,null)),document.getElementById("root")),Oc.a()}});